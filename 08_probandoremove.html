<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>jQuery 5</title>
</head>
<body>
    <h1>Creación de objetos checkbox y suma</h1>
    <form>
        <label>Selecciona número de casillas: </label>
        <input type="range" id="rango" min="1" max="10" />
        <span id="valor"></span>
        <br />
        <label>Seleccione posición: </label>
        <input type="text" id="cajaposicion" value="0"/>
        <button type="button" id="botoneliminar">Eliminar checkbox POICIÓN</button>
    </form>
    <div id="caja"></div>
    <hr />
    <h1 id="resu"></h1>
    <script src="js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#botoneliminar").click(function () {
                var posicion = parseInt($("#cajaposicion").val()) - 1;
                console.log(posicion);
                //ACCEDER A UN PARENT (capa) Y A TODOS LOS
                //HIJOS (children) QUE TENGAMOS EN SU INTERIOR
                //PARA RECUPERAR OBJETOS A PARTIR DE UNA POSICIÓN
                //EN EL DIBUTO TENEMOS UN MÉTODO LLAMADO eq()
                //Y QUE COMIENZA EN 0
                $("#caja").children().eq(posicion).remove();
            });
            $("#rango").change(function () {
                var suma = 0;
                //$("#caja").text("");
                $("#caja").empty();
                $("#valor").text($(this).val());
                var valor = parseInt($("#rango").val());
                for (var i = 0; i < valor; i++) {
                    var check = $("<input>", {
                        "type": "checkbox"
                        , "value": parseInt((Math.random() * 20) + 1)
                    });
                    var num = $("<span>");
                    num.text(check.val());
                    //$("#caja").append(check);
                    //$("#caja").append(num);
                    $("#caja").append(check).append(num);
                    //$(check).click(function () {
                    check.click(function () {
                        if ($(this).is(":checked")) {
                            suma += parseInt($(this).val());
                        } else {
                            suma -= parseInt($(this).val());
                        }
                        $("#resu").text(suma);
                    });
                }
            });
        });
    </script>
</body>
</html>